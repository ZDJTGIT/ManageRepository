<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zdjc.mapper.SectorMapper">
  <resultMap id="BaseResultMap" type="com.zdjc.entity.Sector">
    <result column="sector_id" jdbcType="INTEGER" property="sectorId" />
    <result column="project_id" jdbcType="INTEGER" property="projectId" />
    <result column="sector_name" jdbcType="VARCHAR" property="sectorName" />
    <result column="sector_type" jdbcType="INTEGER" property="sectorType" />
    <result column="sector_address" jdbcType="VARCHAR" property="sectorAddress" />
    <result column="sector_longitude" jdbcType="VARCHAR" property="sectorLongitude" />
    <result column="sector_latitude" jdbcType="VARCHAR" property="sectorLatitude" />
    <result column="sector_begin_time" jdbcType="TIMESTAMP" property="sectorBeginTime" />
    <result column="sector_end_time" jdbcType="TIMESTAMP" property="sectorEndTime" />
    <result column="sector_description" jdbcType="VARCHAR" property="sectorDescription" />
    <result column="sector_status" jdbcType="INTEGER" property="sectorStatus" />
  </resultMap>
  <sql id="base_list">
  	sector_id, project_id, sector_name, 
    sector_type, sector_address, sector_longitude, 
    sector_latitude, sector_begin_time, sector_end_time, 
    sector_description, sector_status
  </sql>
  <insert id="insert" parameterType="com.zdjc.entity.Sector">
    insert into sector (sector_id, project_id, sector_name, 
      sector_type, sector_address, sector_longitude, 
      sector_latitude, sector_begin_time, sector_end_time, 
      sector_description, sector_status)
    values (#{sectorId,jdbcType=INTEGER}, #{projectId,jdbcType=INTEGER}, #{sectorName,jdbcType=VARCHAR}, 
      #{sectorType,jdbcType=INTEGER}, #{sectorAddress,jdbcType=VARCHAR}, #{sectorLongitude,jdbcType=VARCHAR}, 
      #{sectorLatitude,jdbcType=VARCHAR}, #{sectorBeginTime,jdbcType=TIMESTAMP}, #{sectorEndTime,jdbcType=TIMESTAMP}, 
      #{sectorDescription,jdbcType=VARCHAR}, #{sectorStatus,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.zdjc.entity.Sector" useGeneratedKeys="true" keyProperty="sectorId">
    insert into sector
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="sectorId != null">
        sector_id,
      </if>
      <if test="projectId != null">
        project_id,
      </if>
      <if test="sectorName != null">
        sector_name,
      </if>
      <if test="sectorType != null">
        sector_type,
      </if>
      <if test="sectorAddress != null">
        sector_address,
      </if>
      <if test="sectorLongitude != null">
        sector_longitude,
      </if>
      <if test="sectorLatitude != null">
        sector_latitude,
      </if>
      <if test="sectorBeginTime != null">
        sector_begin_time,
      </if>
      <if test="sectorEndTime != null">
        sector_end_time,
      </if>
      <if test="sectorDescription != null">
        sector_description,
      </if>
      <if test="sectorStatus != null">
        sector_status,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="sectorId != null">
        #{sectorId,jdbcType=INTEGER},
      </if>
      <if test="projectId != null">
        #{projectId,jdbcType=INTEGER},
      </if>
      <if test="sectorName != null">
        #{sectorName,jdbcType=VARCHAR},
      </if>
      <if test="sectorType != null">
        #{sectorType,jdbcType=INTEGER},
      </if>
      <if test="sectorAddress != null">
        #{sectorAddress,jdbcType=VARCHAR},
      </if>
      <if test="sectorLongitude != null">
        #{sectorLongitude,jdbcType=VARCHAR},
      </if>
      <if test="sectorLatitude != null">
        #{sectorLatitude,jdbcType=VARCHAR},
      </if>
      <if test="sectorBeginTime != null">
        #{sectorBeginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sectorEndTime != null">
        #{sectorEndTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sectorDescription != null">
        #{sectorDescription,jdbcType=VARCHAR},
      </if>
      <if test="sectorStatus != null">
        #{sectorStatus,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="querySubwaySectors" resultMap="BaseResultMap">
  	select <include refid="base_list" /> from sector where sector_type = 11
  </select>
  <update id="updateSector" parameterType="com.zdjc.entity.Sector">
    update sector
    <set>
      <if test="projectId != null">
        project_id = #{projectId,jdbcType=INTEGER},
      </if>
      <if test="sectorName != null">
        sector_name = #{sectorName,jdbcType=VARCHAR},
      </if>
      <if test="sectorAddress != null">
        sector_address = #{sectorAddress,jdbcType=VARCHAR},
      </if>
      <if test="sectorLongitude != null">
        sector_longitude = #{sectorLongitude,jdbcType=VARCHAR},
      </if>
      <if test="sectorLatitude != null">
        sector_latitude = #{sectorLatitude,jdbcType=VARCHAR},
      </if>
      <if test="sectorBeginTime != null">
        sector_begin_time = #{sectorBeginTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sectorEndTime != null">
        sector_end_time = #{sectorEndTime,jdbcType=TIMESTAMP},
      </if>
      <if test="sectorDescription != null">
        sector_description = #{sectorDescription,jdbcType=VARCHAR},
      </if>
      <if test="sectorStatus != null">
      	sector_status = #{sectorStatus,jdbcType=INTEGER},
      </if>
    </set>
    where sector_id = #{sectorId,jdbcType=INTEGER}
  </update>
</mapper>